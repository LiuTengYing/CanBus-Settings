{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@ltydi/canbus-settings/webpack/bootstrap","webpack://@ltydi/canbus-settings/webpack/runtime/compat get default export","webpack://@ltydi/canbus-settings/webpack/runtime/define property getters","webpack://@ltydi/canbus-settings/webpack/runtime/hasOwnProperty shorthand","webpack://@ltydi/canbus-settings/webpack/runtime/make namespace object","webpack://@ltydi/canbus-settings/external root \"flarum.core.compat['forum/app']\"","webpack://@ltydi/canbus-settings/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@ltydi/canbus-settings/external root \"flarum.core.compat['common/components/Page']\"","webpack://@ltydi/canbus-settings/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@ltydi/canbus-settings/external root \"flarum.core.compat['common/components/Select']\"","webpack://@ltydi/canbus-settings/external root \"flarum.core.compat['common/components/Button']\"","webpack://@ltydi/canbus-settings/./src/forum/components/CanBusPage.js","webpack://@ltydi/canbus-settings/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@ltydi/canbus-settings/external root \"flarum.core.compat['common/extend']\"","webpack://@ltydi/canbus-settings/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@ltydi/canbus-settings/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@ltydi/canbus-settings/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Select from 'flarum/common/components/Select';\nimport Button from 'flarum/common/components/Button';\n\nexport default class CanBusPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    this.loading = {\n      brands: true,\n      models: false,\n      years: false,\n      configs: false,\n      link: false\n    };\n    \n    this.brands = [];\n    this.models = [];\n    this.years = [];\n    this.configs = [];\n    this.link = null;\n    \n    this.selectedBrandId = null;\n    this.selectedModelId = null;\n    this.selectedYearId = null;\n    this.selectedConfigId = null;\n    \n    this.currentStep = 1;\n    \n    this.loadBrands();\n  }\n  \n  view() {\n    // 使用多种方式获取提示文本，确保有备用\n    let promptText = '';\n    \n    // 尝试从app.forum.attributes获取（首选方式）\n    if (app.forum && app.forum.attribute('canbus.promptText')) {\n      promptText = app.forum.attribute('canbus.promptText');\n    } \n    // 如果上面的方式失败，尝试从app.data.settings获取\n    else if (app.data && app.data.settings && app.data.settings['ltydi-canbus-settings.promptText']) {\n      promptText = app.data.settings['ltydi-canbus-settings.promptText'];\n    }\n    // 如果仍然没有，使用默认文本\n    else {\n      promptText = \"Please select the appropriate CANBUs type based on the actual product you received. To access the CANBUs settings, navigate to: Settings- Factory (enter \\\"3368\\\")→ Car Model.\";\n    }\n    \n    return (\n      <div className=\"CanBusPage\">\n        <div className=\"container\">\n          <h2>CanBus Settings</h2>\n          <p>{promptText}</p>\n          <p className=\"SelectionOrder\">Selection order: Car Brand → Car Model → Year Range → Configuration</p>\n          \n          <div className=\"CanBusProgressBar\">\n            <div className=\"CanBusProgressStep completed\">\n              <div className=\"CanBusProgressDot\"></div>\n              <span>Start</span>\n            </div>\n            <div className={\"CanBusProgressStep\" + (this.selectedBrandId ? ' completed' : '')}>\n              <div className=\"CanBusProgressDot\"></div>\n              <span>Brand</span>\n            </div>\n            <div className={\"CanBusProgressStep\" + (this.selectedModelId ? ' completed' : '')}>\n              <div className=\"CanBusProgressDot\"></div>\n              <span>Model</span>\n            </div>\n            <div className={\"CanBusProgressStep\" + (this.selectedYearId ? ' completed' : '')}>\n              <div className=\"CanBusProgressDot\"></div>\n              <span>Year</span>\n            </div>\n            <div className={\"CanBusProgressStep\" + (this.selectedConfigId ? ' completed' : '')}>\n              <div className=\"CanBusProgressDot\"></div>\n              <span>Config</span>\n            </div>\n          </div>\n          \n          <div className=\"CanBusSelectors-container\">\n            <div className={\"Form-group\" + (this.isCurrentStep('brand') ? ' active' : '')}>\n              <label>Car Brand</label>\n              {this.loading.brands ? (\n                <LoadingIndicator />\n              ) : (\n                <Select\n                  value={this.selectedBrandId || ''}\n                  options={this.getBrandOptions()}\n                  onchange={this.onBrandChange.bind(this)}\n                />\n              )}\n            </div>\n            \n            <div className={\"Form-group\" + (this.isCurrentStep('model') ? ' active' : '')}>\n              <label>Car Model</label>\n              {this.loading.models ? (\n                <LoadingIndicator />\n              ) : (\n                <Select\n                  value={this.selectedModelId || ''}\n                  options={this.getModelOptions()}\n                  onchange={this.onModelChange.bind(this)}\n                  disabled={!this.selectedBrandId}\n                />\n              )}\n              {!this.selectedBrandId && <small className=\"SelectionHint\">Please select a Car Brand first</small>}\n            </div>\n            \n            <div className={\"Form-group\" + (this.isCurrentStep('year') ? ' active' : '')}>\n              <label>Year Range</label>\n              {this.loading.years ? (\n                <LoadingIndicator />\n              ) : (\n                <Select\n                  value={this.selectedYearId || ''}\n                  options={this.getYearOptions()}\n                  onchange={this.onYearChange.bind(this)}\n                  disabled={!this.selectedModelId}\n                />\n              )}\n              {!this.selectedModelId && <small className=\"SelectionHint\">Please select a Car Model first</small>}\n            </div>\n            \n            <div className={\"Form-group\" + (this.isCurrentStep('config') ? ' active' : '')}>\n              <label>Configuration</label>\n              {this.loading.configs ? (\n                <LoadingIndicator />\n              ) : (\n                <Select\n                  value={this.selectedConfigId || ''}\n                  options={this.getConfigOptions()}\n                  onchange={this.onConfigChange.bind(this)}\n                  disabled={!this.selectedYearId}\n                />\n              )}\n              {!this.selectedYearId && <small className=\"SelectionHint\">Please select a Year Range first</small>}\n            </div>\n          </div>\n          \n          {this.loading.link ? (\n            <LoadingIndicator />\n          ) : this.link && this.link.attributes && this.link.attributes.url ? (\n            this.renderLinkContent(this.link.attributes.url, this.link.attributes.description)\n          ) : this.selectedConfigId ? (\n            <div className=\"alert alert-info\" style={{\n              margin: '30px 0',\n              padding: '20px',\n              borderRadius: '4px',\n              display: 'flex',\n              alignItems: 'center'\n            }}>\n              <i className=\"fas fa-info-circle\" style={{marginRight: '10px', fontSize: '24px', color: '#3176d9'}}></i>\n              <div>\n                <p style={{margin: '0', fontWeight: 'bold'}}>No configuration image available for this selection.</p>\n                <p style={{margin: '5px 0 0 0'}}>Please try another configuration or contact support for assistance.</p>\n              </div>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n  \n  renderLinkContent(url, description) {\n    return (\n      <div className=\"CanBusContent\" style={{marginTop: '30px', marginBottom: '30px'}}>\n        {/* Display image preview (using img tag instead of iframe) */}\n        <img \n          src={this.getDirectDownloadUrl(url)}\n          alt=\"CanBus Configuration\"\n          style={{\n            width: '100%', \n            height: 'auto', \n            display: 'block',\n            margin: '20px auto',\n            maxHeight: '600px',\n            objectFit: 'contain',\n            border: '1px solid #e9ecef',\n            borderRadius: '4px'\n          }}\n          onError={(e) => {\n            console.error('Image failed to load:', url);\n            e.target.style.display = 'none';\n            \n            // Display error message and link when image fails to load\n            const errorMessage = document.createElement('div');\n            errorMessage.className = 'alert alert-danger';\n            errorMessage.style.margin = '20px 0';\n            errorMessage.innerHTML = `\n              <p><i class=\"fas fa-exclamation-triangle\"></i> ${app.translator.trans('ltydi-canbus-settings.forum.image_load_error')}</p>\n              <p>${app.translator.trans('ltydi-canbus-settings.forum.use_button_below')}</p>\n            `;\n            e.target.parentNode.insertBefore(errorMessage, e.target.nextSibling);\n          }}\n        />\n        \n        {/* Button to open in new window */}\n        <div style={{ textAlign: 'center', margin: '15px 0' }}>\n          <Button\n            className=\"Button Button--primary\"\n            onclick={() => window.open(url, '_blank')}\n            icon=\"fas fa-external-link-alt\"\n          >\n            Open in New Window\n          </Button>\n        </div>\n        \n        {/* Always display link description area, whether there is a description or not */}\n        <div className=\"CanBusLinkDescription\" style={{\n          marginTop: '20px',\n          padding: '15px',\n          background: '#f8f9fa',\n          border: '1px solid #e9ecef',\n          borderRadius: '4px',\n          color: '#495057',\n          lineHeight: '1.5'\n        }}>\n          <i className=\"fas fa-info-circle\" style={{marginRight: '8px', color: '#3176d9', fontSize: '18px'}}></i>\n          {description || app.translator.trans('ltydi-canbus-settings.forum.no_additional_info')}\n        </div>\n      </div>\n    );\n  }\n  \n  getBrandOptions() {\n    let options = {};\n    options[''] = '';\n    \n    if (this.brands && this.brands.length) {\n      this.brands.forEach(brand => {\n        options[brand.id] = brand.attributes.name;\n      });\n    }\n    \n    return options;\n  }\n  \n  getModelOptions() {\n    let options = {};\n    options[''] = '';\n    \n    if (this.models && this.models.length) {\n      this.models.forEach(model => {\n        options[model.id] = model.attributes.name;\n      });\n    }\n    \n    return options;\n  }\n  \n  getYearOptions() {\n    let options = {};\n    options[''] = '';\n    \n    if (this.years && this.years.length) {\n      this.years.forEach(year => {\n        options[year.id] = year.attributes.year_range;\n      });\n    }\n    \n    return options;\n  }\n  \n  getConfigOptions() {\n    let options = {};\n    options[''] = '';\n    \n    if (this.configs && this.configs.length) {\n      this.configs.forEach(config => {\n        options[config.id] = config.attributes.name;\n      });\n    }\n    \n    return options;\n  }\n  \n  onBrandChange(brandId) {\n    this.selectedBrandId = brandId || null;\n    this.selectedModelId = null;\n    this.selectedYearId = null;\n    this.selectedConfigId = null;\n    this.link = null;\n    \n    if (this.selectedBrandId) {\n      this.selectedBrand = this.brands.find(brand => brand.id === this.selectedBrandId);\n      this.loadModels();\n    } else {\n      this.models = [];\n      this.years = [];\n      this.configs = [];\n      m.redraw();\n    }\n  }\n  \n  onModelChange(modelId) {\n    this.selectedModelId = modelId || null;\n    this.selectedYearId = null;\n    this.selectedConfigId = null;\n    this.link = null;\n    \n    if (this.selectedModelId) {\n      this.selectedModel = this.models.find(model => model.id === this.selectedModelId);\n      this.loadYears();\n    } else {\n      this.years = [];\n      this.configs = [];\n      m.redraw();\n    }\n  }\n  \n  onYearChange(yearId) {\n    this.selectedYearId = yearId || null;\n    this.selectedConfigId = null;\n    this.link = null;\n    \n    if (this.selectedYearId) {\n      this.selectedYear = this.years.find(year => year.id === this.selectedYearId);\n      this.loadConfigs();\n    } else {\n      this.configs = [];\n      m.redraw();\n    }\n  }\n  \n  onConfigChange(configId) {\n    this.selectedConfigId = configId || null;\n    \n    if (this.selectedConfigId) {\n      this.selectedConfig = this.configs.find(config => config.id === this.selectedConfigId);\n      this.loadLink();\n    } else {\n      this.link = null;\n      m.redraw();\n    }\n  }\n  \n  loadBrands() {\n    this.loading.brands = true;\n    \n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/canbus/brands'\n    }).then(result => {\n      this.brands = result.data || [];\n      this.loading.brands = false;\n      m.redraw();\n    }).catch(error => {\n      console.error('Error loading brands:', error);\n      this.loading.brands = false;\n      m.redraw();\n    });\n  }\n  \n  loadModels() {\n    this.loading.models = true;\n    \n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/canbus/models',\n      params: {\n        'filter[brand_id]': this.selectedBrandId\n      }\n    }).then(result => {\n      if (result && result.data) {\n        this.models = result.data;\n      } else {\n        this.models = [];\n      }\n      this.loading.models = false;\n      m.redraw();\n    }).catch(error => {\n      console.error('Error loading models:', error);\n      this.models = [];\n      this.loading.models = false;\n      m.redraw();\n    });\n  }\n  \n  loadYears() {\n    this.loading.years = true;\n    \n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/canbus/years',\n      params: {\n        'filter[model_id]': this.selectedModelId\n      }\n    }).then(result => {\n      this.years = result.data || [];\n      this.loading.years = false;\n      m.redraw();\n    }).catch(error => {\n      console.error('Error loading years:', error);\n      this.years = [];\n      this.loading.years = false;\n      m.redraw();\n    });\n  }\n  \n  loadConfigs() {\n    this.loading.configs = true;\n    \n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/canbus/configs',\n      params: {\n        'filter[year_id]': this.selectedYearId\n      }\n    }).then(result => {\n      this.configs = result.data || [];\n      this.loading.configs = false;\n      m.redraw();\n    }).catch(error => {\n      console.error('Error loading configs:', error);\n      this.configs = [];\n      this.loading.configs = false;\n      m.redraw();\n    });\n  }\n  \n  loadLink() {\n    this.loading.link = true;\n    \n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/canbus/links',\n      params: {\n        'filter[config_id]': this.selectedConfigId\n      }\n    }).then(result => {\n      if (result.data && result.data.length > 0) {\n        this.link = result.data[0];\n      } else {\n        this.link = null;\n      }\n      this.loading.link = false;\n      m.redraw();\n    }).catch(error => {\n      console.error('Error loading link:', error);\n      this.link = null;\n      this.loading.link = false;\n      m.redraw();\n    });\n  }\n  \n  isCurrentStep(step) {\n    if (step === 'brand') return !this.selectedBrandId;\n    if (step === 'model') return this.selectedBrandId && !this.selectedModelId;\n    if (step === 'year') return this.selectedModelId && !this.selectedYearId;\n    if (step === 'config') return this.selectedYearId && !this.selectedConfigId;\n    return false;\n  }\n\n  getDirectDownloadUrl(url) {\n    try {\n      if (!url) return '';\n      \n      // 处理Google Drive链接\n      if (url.includes('drive.google.com')) {\n        const fileId = this.extractGoogleDriveFileId(url);\n        if (fileId) {\n          // 尝试使用导出为图片的方式 (有些情况可能有效)\n          return `https://drive.google.com/thumbnail?id=${fileId}&sz=w1000`;\n        }\n        return url;\n      }\n      \n      // 处理相对路径\n      if (url.startsWith('/')) {\n        const baseUrl = app.forum.attribute('baseUrl') || '';\n        return baseUrl + url;\n      }\n      \n      // 处理不带协议的链接\n      if (url.startsWith('//')) {\n        return 'https:' + url;\n      }\n      \n      // 如果是图片链接，但不带协议，添加协议\n      if (!url.match(/^https?:\\/\\//i) && this.isImageUrl(url)) {\n        return 'https://' + url;\n      }\n      \n      // 其他类型链接直接返回\n      return url;\n    } catch (error) {\n      console.error('Error processing download URL:', error);\n      return url;\n    }\n  }\n   \n  extractGoogleDriveFileId(url) {\n    if (!url) return null;\n    \n    // 提取Google Drive文件ID\n    const patterns = [\n      /\\/d\\/([a-zA-Z0-9_-]+)/,\n      /id=([a-zA-Z0-9_-]+)/,\n      /\\/file\\/d\\/([a-zA-Z0-9_-]+)/,\n      /drive\\.google\\.com\\/open\\?id=([a-zA-Z0-9_-]+)/\n    ];\n    \n    for (let pattern of patterns) {\n      const match = url.match(pattern);\n      if (match) return match[1];\n    }\n    \n    return null;\n  }\n  \n  isImageUrl(url) {\n    if (!url) return false;\n    \n    // 检查URL是否以图片扩展名结尾\n    const imageExtensionRegex = /\\.(jpg|jpeg|png|gif|bmp|webp)$/i;\n    \n    // 对于Google Drive链接，我们假设它们是图片（因为在此应用场景中主要是图片）\n    if (url.includes('drive.google.com')) {\n      return true;\n    }\n    \n    return imageExtensionRegex.test(url);\n  }\n  \n  isGoogleDriveUrl(url) {\n    if (!url) return false;\n    return url.includes('drive.google.com') || url.includes('docs.google.com');\n  }\n  \n  // 辅助方法：返回到之前的步骤\n  backToStep(step) {\n    this.currentStep = step;\n    m.redraw();\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","// 这是一个空的入口文件，用于解决资源发布问题\r\n// 由于canbus-settings主要是一个管理员扩展，论坛方面不需要特别的功能\r\n// 但Flarum期望找到这个文件\r\n\r\nimport app from 'flarum/forum/app';\r\nimport { extend } from 'flarum/common/extend';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport LinkButton from 'flarum/common/components/LinkButton';\r\nimport CanBusPage from './components/CanBusPage';\r\n\r\napp.initializers.add('ltydi/canbus-settings', () => {\r\n  // 这个扩展在论坛侧不做任何事情\r\n  \r\n  // 注册路由\r\n  app.routes.canbus = {\r\n    path: '/canbus',\r\n    component: CanBusPage\r\n  };\r\n\r\n  // 添加左侧导航项\r\n  extend(IndexPage.prototype, 'navItems', function(items) {\r\n    items.add('canbus-settings',\r\n      <LinkButton \r\n        icon=\"fas fa-car\"\r\n        href={app.route('canbus')}\r\n      >\r\n        CanBus Settings\r\n      </LinkButton>,\r\n      85 // 位置优先级\r\n    );\r\n  });\r\n}); "],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","CanBusPage","_Page","apply","arguments","create","constructor","_proto","oninit","vnode","this","loading","brands","models","years","configs","link","selectedBrandId","selectedModelId","selectedYearId","selectedConfigId","currentStep","loadBrands","view","promptText","app","attribute","settings","m","className","isCurrentStep","LoadingIndicator","Select","options","getBrandOptions","onchange","onBrandChange","getModelOptions","onModelChange","disabled","getYearOptions","onYearChange","getConfigOptions","onConfigChange","attributes","url","renderLinkContent","description","style","margin","padding","borderRadius","display","alignItems","marginRight","fontSize","color","fontWeight","marginTop","marginBottom","src","getDirectDownloadUrl","alt","width","height","maxHeight","objectFit","border","onError","console","error","target","errorMessage","document","createElement","innerHTML","trans","parentNode","insertBefore","nextSibling","textAlign","Button","onclick","window","open","icon","background","lineHeight","length","forEach","brand","id","name","model","year","year_range","config","brandId","_this","selectedBrand","find","loadModels","redraw","modelId","_this2","selectedModel","loadYears","yearId","_this3","selectedYear","loadConfigs","configId","_this4","selectedConfig","loadLink","_this5","method","then","result","data","_this6","params","_this7","_this8","_this9","step","includes","fileId","extractGoogleDriveFileId","startsWith","match","isImageUrl","_i","_patterns","pattern","test","isGoogleDriveUrl","backToStep","Page","add","canbus","path","component","extend","IndexPage","items","LinkButton","href"],"sourceRoot":""}